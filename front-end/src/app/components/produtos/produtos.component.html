<div class="title">
    <h2>CRUD de Produtos</h2>
</div>
<div class="crud">
    <!-- GET -->
    <div class="metodo listar" *ngIf="listaProdutos.length">
        <h3>Produtos Cadastrados</h3>
        <ul>
            <li *ngFor="let produto of listaProdutos">
                ID: {{produto.id}} |
                Nome: {{produto.nomeProduto}} |
                Valor: R${{ produto.valor }}
            </li>
        </ul>
    </div>
    <div *ngIf="!listaProdutos.length">
        Carregando...
    </div>

    <!-- GET(ID) -->
    <div class="metodo listar">
        <h3>Buscar Produto por ID</h3>

        <input [(ngModel)]="idGet" placeholder="Digite o ID do produto" />

        <button (click)="buscarProduto()">Buscar Produto</button>

        <div *ngIf="produto">
            <h4>Detalhes do Produto:</h4>
            <ul>
                <li>
                    ID: {{ produto.id }} |
                    Nome: {{ produto.nomeProduto }} |
                    Valor: R${{ produto.valor }}
                </li>
            </ul>
        </div>
        <div *ngIf="erroGet">
            <p class="erro">Produto n√£o encontrado!</p>
        </div>
    </div>

    <!-- POST -->
    <div class="metodo">
        <h3>Adicionar um produto</h3>
        <input [(ngModel)]="nomeProduto" placeholder="Digite o nome do produto">
        <input [(ngModel)]="valorProduto" placeholder="Digite o valor do produto (ex: 7.99)">
        <button (click)=" adicionarProduto()">Adicionar o Produto</button>
        <div *ngIf="novoProduto">
            <p class="sucesso">Produto Adicionado com sucesso!</p>
            <ul>
                <li>
                    ID: {{ novoProduto.id }} |
                    Nome: {{ novoProduto.nomeProduto }} |
                    Valor: R${{ novoProduto.valor }}
                </li>
            </ul>
        </div>
        <div *ngIf="erroPost">
            <p class="erro">Erro ao adicionar o produto!</p>
        </div>
    </div>

    <!-- UPDATE -->
    <div class="metodo">
        <h3>Editar um produto</h3>
        <input [(ngModel)]="idUpdate" placeholder="Digite o ID do produto" />
        <input [(ngModel)]="novoNome" placeholder="Digite o novo nome do produto" />
        <input [(ngModel)]="novoValor" placeholder="Digite o novo valor do produto (ex: 7.99)" />
        <button (click)="editarProduto()">Editar o Produto</button>
        <div *ngIf="editado">
            <p class="sucesso">Produto editado com sucesso!</p>
        </div>
        <div *ngIf="erroUpdate">
            <p class="erro">Erro ao editar produto!</p>
        </div>
    </div>

    <!-- DELETE -->
    <div class="metodo">
        <h3>Deletar um Produto</h3>
        <input [(ngModel)]="idDelete" placeholder="Digite o ID do produto" />
        <button (click)="deletarProduto()">Deletar o Produto</button>
        <div *ngIf="deletado">
            <p class="sucesso">Produto deletado com sucesso!</p>
        </div>
        <div *ngIf="erroDelete">
            <p class="erro">Erro ao deletar o produto!</p>
        </div>
    </div>
</div>